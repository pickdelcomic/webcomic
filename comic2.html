<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Comic 2 with XP Inventory & Rarity Colors</title>
  <link rel="stylesheet" href="https://unpkg.com/xp.css" />
  <style>
    body {
      background-image: url("thumbnails/background.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      color: white;
      font-family: 'Press Start 2P', Tahoma, sans-serif;
      text-align: center;
      margin: 0;
    }

    .comic-container {
  margin: 60px auto; /* center the container horizontally */
  text-align: center; /* center contents inside container */
}

.panel {
  max-width: 600px;    /* optional max width for panels */
  margin: 0 auto 30px; /* center each panel block */
  text-align: center;  /* center text and images inside each panel */
}

    .panel p {
      font-size: 14px;
      text-align: left;
      margin: 0 0 10px 0;
    }

    .navigation {
      margin-top: 10px;
      text-align: center;
    }

    .nav-button {
      background-color: transparent;
      color: #2e4f8f;
      padding: 10px 20px;
      margin: 0 10px;
      text-decoration: none;
      border: 2px solid #2e4f8f;
      cursor: pointer;
      font-size: 16px;
    }

    .nav-button:hover {
      background-color: #2e4f8f;
      color: white;
    }

    #progress {
      text-align: center;
      margin-top: 10px;
      color: white;
    }

    /* Top-left fixed XP-style inventory button */
    #inventory-toggle {
      position: fixed;
      top: 10px;
      left: 10px;
      width: 40px;
      height: 40px;
      background: url("https://icons.iconarchive.com/icons/dakirby309/windows-8-metro/256/Folders-OS-Library-Metro-icon.png") no-repeat center center;
      background-size: contain;
      border: none;
      cursor: pointer;
      z-index: 100;
    }

    /* XP style inventory window */
    #inventory-window {
      position: fixed;
      top: 60px;
      left: 10px;
      width: 300px;
      display: none;
      z-index: 99;
    }

    #inventory-content {
      padding: 10px;
      background-color: white;
      color: black;
    }

    #inventory-items {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
    }

    .inventory-item {
      width: 60px;
      text-align: center;
      cursor: pointer;
      border: 2px solid gray;
      border-radius: 6px;
      padding: 2px;
      transition: transform 0.2s ease;
    }

    .inventory-item:hover {
      transform: scale(1.1);
      box-shadow: 0 0 8px rgba(0,0,0,0.4);
    }

    .inventory-item img {
      width: 50px;
      height: 50px;
      border-radius: 4px;
      display: block;
      margin: 0 auto;
    }

    .inventory-item p {
      margin: 4px 0 0;
      font-size: 12px;
      color: black;
      font-weight: bold;
    }

    /* Rarity border colors */
    .rarity-common {
      border-color: gray !important;
    }
    .rarity-uncommon {
      border-color: green !important;
    }
    .rarity-rare {
      border-color: blue !important;
    }
    .rarity-epic {
      border-color: purple !important;
    }
    .rarity-legendary {
      border-color: orange !important;
    }

    /* Item Detail Popup */
    #item-detail {
      display: none;
      position: fixed;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      width: 300px;
      z-index: 999;
    }
    #item-detail .title-bar-text {
      font-weight: bold;
    }
    #item-detail .window-body {
      text-align: center;
      background-color: white;
      color: black;
    }
    #item-detail img {
      width: 100px;
      height: 100px;
      margin-bottom: 10px;
      border: 1px solid gray;
      border-radius: 8px;
    }
    #item-detail p {
      font-size: 12px;
      margin: 0 10px 10px 10px;
    }
  </style>
</head>
<body>

<!-- Inventory Toggle Button -->
<button id="inventory-toggle" title="Open Inventory"></button>

<!-- Inventory Window -->
<div class="window" id="inventory-window">
  <div class="title-bar">
    <div class="title-bar-text">Inventory</div>
    <div class="title-bar-controls">
      <button aria-label="Close" onclick="toggleInventory(false)"></button>
    </div>
  </div>
  <div class="window-body" id="inventory-content">
    <div id="inventory-items"></div>
  </div>
</div>

<!-- Item Detail Popup -->
<div class="window" id="item-detail">
  <div class="title-bar">
    <div class="title-bar-text" id="detail-title">Item Name</div>
    <div class="title-bar-controls">
      <button aria-label="Close" onclick="closeDetail()"></button>
    </div>
  </div>
  <div class="window-body">
    <img id="detail-image" src="" alt=""/>
    <p id="detail-desc"></p>
  </div>
</div>

<!-- Comic Container -->
<div class="comic-container" id="comicContainer">
  <!-- Comic panels get added here -->
</div>

<p id="progress"></p>

<!-- Navigation Buttons -->
<div class="navigation">
  <button class="nav-button" id="prevButton" onclick="navigate(-1)" disabled>Previous</button>
  <button class="nav-button" id="nextButton" onclick="navigate(1)">Next</button>
  <button class="nav-button" onclick="window.location.href='index.html'">Home</button>
  <button class="nav-button" onclick="window.location.href='comic2.html'">Comic 2</button>
</div>

<script>
  const comicPanels = [
    { image: "pages/page1.png", text: "Comic 2 begins!" },
    { image: "pages/page2.png", text: "What's that up in the corner?" },
    { image: "pages/page3.gif", text: "Inventory button? Thatâ€™s new!" },
    { image: "pages/page4.gif", text: "Try clicking it to see your stuff!" }
  ];

  // Added rarity to each item for color coding
  const inventoryItems = [
    { name: "Key", image: "images/key.png", desc: "An old rusty key.", rarity: "common" },
    { name: "Map", image: "images/map.png", desc: "A faded paper map.", rarity: "uncommon" },
    { name: "Potion", image: "images/potion.png", desc: "Restores 50 HP.", rarity: "rare" },
    { name: "Coin", image: "images/coin.png", desc: "Golden currency.", rarity: "epic" },
    { name: "Crown", image: "images/crown.png", desc: "Royal crown of legend.", rarity: "legendary" }
  ];

  let currentPanel = 0;

  function loadComic() {
    const container = document.getElementById('comicContainer');
    container.innerHTML = '';
    comicPanels.forEach((panel, index) => {
      const div = document.createElement('div');
      div.className = 'panel';
      div.style.display = index === currentPanel ? 'block' : 'none';
      div.innerHTML = `<img src="${panel.image}" alt="Panel ${index + 1}"><p>${panel.text}</p>`;
      container.appendChild(div);
    });
    updateProgress();
  }

  function navigate(dir) {
    const panels = document.querySelectorAll('.panel');
    if (currentPanel + dir >= 0 && currentPanel + dir < panels.length) {
      panels[currentPanel].style.display = 'none';
      currentPanel += dir;
      panels[currentPanel].style.display = 'block';
      document.getElementById('prevButton').disabled = currentPanel === 0;
      document.getElementById('nextButton').disabled = currentPanel === panels.length - 1;
      updateProgress();
    }
  }

  function updateProgress() {
    document.getElementById('progress').textContent = `Page ${currentPanel + 1} of ${comicPanels.length}`;
  }

  // Loads inventory with rarity-based border colors
  function loadInventory() {
    const itemsDiv = document.getElementById('inventory-items');
    itemsDiv.innerHTML = '';
    inventoryItems.forEach(item => {
      const div = document.createElement('div');
      div.className = 'inventory-item rarity-' + item.rarity;
      div.innerHTML = `<img src="${item.image}" alt="${item.name}"><p>${item.name}</p>`;
      div.onclick = () => showDetail(item);
      itemsDiv.appendChild(div);
    });
  }

  // Show item detail popup
  function showDetail(item) {
    document.getElementById('detail-title').textContent = item.name;
    document.getElementById('detail-image').src = item.image;
    document.getElementById('detail-image').alt = item.name;
    document.getElementById('detail-desc').textContent = item.desc;
    document.getElementById('item-detail').style.display = 'block';
  }

  // Close item detail popup
  function closeDetail() {
    document.getElementById('item-detail').style.display = 'none';
  }

  // Toggle inventory window visibility
  function toggleInventory(show = null) {
    const windowDiv = document.getElementById('inventory-window');
    const isVisible = windowDiv.style.display === 'block';
    const nextState = show !== null ? show : !isVisible;
    windowDiv.style.display = nextState ? 'block' : 'none';
  }

  document.getElementById('inventory-toggle').onclick = () => toggleInventory();

  // Load comic and inventory on page load
  document.addEventListener('DOMContentLoaded', () => {
    loadComic();
    loadInventory();
  });
</script>

</body>
</html>


